"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[705],{4635:function(e,t,n){n.d(t,{$c:function(){return d},AA:function(){return u},CP:function(){return l},Ru:function(){return p},ed:function(){return i},fR:function(){return f},n9:function(){return o}});var a=n(4165),r=n(5861),s=n(1243),c="",o=function(e){return function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n){var r,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"likeRequest"}),t.next=4,s.Z.get("".concat(c,"/api/v1/post/").concat(e));case 4:r=t.sent,o=r.data,n({type:"likeSuccess",payload:o.message}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:"likeFailure",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e,t){return function(){var n=(0,r.Z)((0,a.Z)().mark((function n(r){var o,u;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"addCommentRequest"}),n.next=4,s.Z.put("".concat(c,"/api/v1/post/comment/").concat(e),{comment:t},{headers:{"Content-Type":"application/json"}});case 4:o=n.sent,u=o.data,r({type:"addCommentSuccess",payload:u.message}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r({type:"addCommentFailure",payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},p=function(e,t){return function(){var n=(0,r.Z)((0,a.Z)().mark((function n(r){var o,u;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"deleteCommentRequest"}),n.next=4,s.Z.delete("".concat(c,"/api/v1/post/comment/").concat(e),{data:{commentId:t}});case 4:o=n.sent,u=o.data,r({type:"deleteCommentSuccess",payload:u.message}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r({type:"deleteCommentFailure",payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},i=function(e,t){return function(){var n=(0,r.Z)((0,a.Z)().mark((function n(r){var o,u;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"newPostRequest"}),n.next=4,s.Z.post("".concat(c,"/api/v1/post/upload"),{caption:e,image:t},{headers:{"Content-Type":"application/json"}});case 4:o=n.sent,u=o.data,r({type:"newPostSuccess",payload:u.message}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r({type:"newPostFailure",payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},l=function(e,t){return function(){var n=(0,r.Z)((0,a.Z)().mark((function n(r){var o,u;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"updateCaptionRequest"}),n.next=4,s.Z.put("".concat(c,"/api/v1/post/").concat(t),{caption:e},{headers:{"Content-Type":"application/json"}});case 4:o=n.sent,u=o.data,r({type:"updateCaptionSuccess",payload:u.message}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r({type:"updateCaptionFailure",payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},d=function(){return function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"allPostsRequest"}),e.next=4,s.Z.get("".concat(c,"/api/v1/post/allposts"));case 4:n=e.sent,r=n.data,t({type:"allPostsSuccess",payload:r.posts}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"allPostsFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n){var r,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"deletePostRequest"}),t.next=4,s.Z.delete("".concat(c,"/api/v1/post/").concat(e));case 4:r=t.sent,o=r.data,n({type:"deletePostSuccess",payload:o.message}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:"deletePostFailure",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},705:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var a=n(4165),r=n(5861),s=n(9439),c=n(2791),o=n(9434),u=n(5206),p=n(4635),i=n(8820),l=n(184);function d(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.newPost})),n=t.loading,d=t.error,f=t.message,m=(0,c.useState)(""),y=(0,s.Z)(m,2),v=y[0],h=y[1],x=(0,c.useState)(null),g=(0,s.Z)(x,2),Z=g[0],w=g[1],b=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e((0,p.ed)(v,Z));case 3:w(null),h("");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){d&&(u.Am.error(d,{position:"top-center",autoClose:1e3,theme:"light"}),e({type:"clearError"})),f&&(u.Am.success(f,{position:"top-center",autoClose:1e3,theme:"light"}),e({type:"clearMessage"}))}),[e,d,f]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"w-[100%] h-[auto] flex items-center justify-center mx-auto mb-20",children:(0,l.jsxs)("form",{className:"flex flex-col items-center space-y-5 md:w-[40vw] h-[auto]  md:border-2 border-gray-300 p-5",onSubmit:b,children:[(0,l.jsx)("p",{className:"text-center my-5 text-2xl font-medium underline",children:"New Post"}),Z&&(0,l.jsx)("img",{src:Z,alt:"post"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){2===n.readyState&&w(n.result)},n.readAsDataURL(t)}}),(0,l.jsx)("input",{className:"outline-none p-3 w-[100%] border border-gray-400",type:"text",value:v,placeholder:"Caption",onChange:function(e){h(e.target.value)}}),n?(0,l.jsxs)("button",{disabled:n,className:"bg-blue-500 py-2 px-3 hover:bg-blue-700 duration-150 ease-in-out text-white flex items-center animate-pulse",children:["Uploading",(0,l.jsx)(i.xz6,{className:"animate-spin h-5 w-5 ml-3"})]}):(0,l.jsx)("button",{type:"submit",className:"bg-blue-500 py-2 px-3 hover:bg-blue-700 duration-150 ease-in-out text-white ",children:" Upload "})]})})})}}}]);
//# sourceMappingURL=705.881c3317.chunk.js.map