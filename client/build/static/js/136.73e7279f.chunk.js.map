{"version":3,"file":"static/js/136.73e7279f.chunk.js","mappings":"6PAQe,SAASA,IAErB,IAAAC,GAAwBC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMC,IAAI,IAAjDC,EAAKJ,EAALI,MAAOD,EAAIH,EAAJG,KACfE,GAAiEJ,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMI,IAAI,IAAjFC,EAAaF,EAAtBG,QAA+BC,EAAWJ,EAAlBD,MAAoBM,EAAOL,EAAPK,QACpDC,GAAyEV,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMU,aAAa,IAAlGC,EAAoBF,EAA7BH,QAAwCM,EAAoBH,EAA7BD,QAEvCK,GAAwBC,EAAAA,EAAAA,UAASb,EAAKc,MAAKC,GAAAC,EAAAA,EAAAA,GAAAJ,EAAA,GAApCE,EAAIC,EAAA,GAAEE,EAAOF,EAAA,GACpBG,GAA0BL,EAAAA,EAAAA,UAASb,EAAKmB,OAAMC,GAAAJ,EAAAA,EAAAA,GAAAE,EAAA,GAAvCC,EAAKC,EAAA,GAAEC,EAAQD,EAAA,GACtBE,GAA4BT,EAAAA,EAAAA,UAAS,IAAGU,GAAAP,EAAAA,EAAAA,GAAAM,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACxBG,GAAoCb,EAAAA,EAAAA,UAASb,EAAKwB,OAAOG,KAAIC,GAAAZ,EAAAA,EAAAA,GAAAU,EAAA,GAAtDG,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAE1BG,GAAWC,EAAAA,EAAAA,MAgBXC,EAAa,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOC,GAAC,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACR,OAAnBJ,EAAEK,iBAAiBH,EAAAE,KAAA,EACbZ,GAAStB,EAAAA,EAAAA,IAAcK,EAAMK,EAAOK,IAAS,KAAD,EAClDO,GAASc,EAAAA,EAAAA,OAAY,wBAAAJ,EAAAK,OAAA,GAAAR,EAAA,KACvB,gBAJkBS,GAAA,OAAAb,EAAAc,MAAA,KAAAC,UAAA,KAmCnB,OA7BAC,EAAAA,EAAAA,YAAU,WACHjD,IACDkD,EAAAA,GAAAA,MAAYlD,EAAO,CAChBmD,SAAU,aACVC,UAAW,IACXC,MAAO,UAEVvB,EAAS,CAAEwB,KAAM,iBAGhBjD,IACD6C,EAAAA,GAAAA,MAAY7C,EAAa,CACtB8C,SAAU,aACVC,UAAW,IACXC,MAAO,UAEVvB,EAAS,CAAEwB,KAAM,kBAGhBhD,GAAWI,KACZwC,EAAAA,GAAAA,QAAc5C,GAAWI,EAAsB,CAC5CyC,SAAU,aACVC,UAAW,IACXC,MAAO,UAEVvB,EAAS,CAAEwB,KAAM,iBAEvB,GAAG,CAACxB,EAAU9B,EAAOK,EAAaC,EAASI,KAGxC6C,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SAEMtD,GAAgBoD,EAAAA,EAAAA,KAACG,EAAAA,EAAM,CAACpD,QAAS,iBAC9BiD,EAAAA,EAAAA,KAAA,OAAKI,UAAU,+CAA8CF,UAC1DG,EAAAA,EAAAA,MAAA,OAAKD,UAAU,+FAA8FF,SAAA,EAC1GF,EAAAA,EAAAA,KAAA,MAAII,UAAU,yCAAwCF,SAAC,iBACvDF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,mCAAkCF,UAC9CF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,mCAAmCE,IAAKjC,EAAYkC,IAAI,YAE1EF,EAAAA,EAAAA,MAAA,QAAMG,SAAU/B,EAAe2B,UAAU,kDAAiDF,SAAA,EACvFF,EAAAA,EAAAA,KAAA,SAAOS,MAAOnD,EAAMoD,SAAU,SAAC3B,GAAQtB,EAAQsB,EAAE4B,OAAOF,MAAO,EAAGV,KAAK,OAAOa,YAAY,OAAOR,UAAU,8DAC3GJ,EAAAA,EAAAA,KAAA,SAAOS,MAAO9C,EAAO+C,SAAU,SAAC3B,GAAQlB,EAASkB,EAAE4B,OAAOF,MAAO,EAAGV,KAAK,QAAQa,YAAY,QAAQR,UAAU,8DAC/GJ,EAAAA,EAAAA,KAAA,SAAOD,KAAK,OAAOc,OAAO,UAAUH,SA9D/B,SAAC3B,GACxB,IAAM+B,EAAO/B,EAAE4B,OAAOI,MAAM,GAEtBC,EAAS,IAAIC,WACnBD,EAAOE,cAAcJ,GAErBE,EAAOG,OAAS,WACa,IAAtBH,EAAOI,aACR9C,EAAc0C,EAAOK,QACrBpD,EAAU+C,EAAOK,QAEvB,CACH,IAoDwBnE,GACG8C,EAAAA,EAAAA,KAAA,UAASsB,UAAQ,EAAClB,UAAU,4FAA2FF,UACpHG,EAAAA,EAAAA,MAAA,OAAKD,UAAU,kDAAiDF,SAAA,EAC7DF,EAAAA,EAAAA,KAACuB,EAAAA,IAAgB,CAACnB,UAAU,+BAA+B,oBAIjEJ,EAAAA,EAAAA,KAAA,UAAQD,KAAK,SAASK,UAAU,4FAA2FF,SAAC,oBAU1J,C","sources":["components/UpdateProfile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { loadUser, registerUser, updateProfile } from '../Actions/User';\r\nimport Loader from './Loader';\r\nimport { AiOutlineLoading } from \"react-icons/ai\"\r\n\r\nexport default function UpdateProfile() {\r\n\r\n   const { error, user } = useSelector((state) => state.user);\r\n   const { loading: updateLoading, error: updateError, message, } = useSelector((state) => state.like);\r\n   const { loading: updateProfileLoading, message: updateProfileMessage } = useSelector((state) => state.updateProfile);\r\n\r\n   const [name, setName] = useState(user.name);\r\n   const [email, setEmail] = useState(user.email);\r\n   const [avatar, setAvatar] = useState(\"\");\r\n   const [avatarPrev, setAvatarPrev] = useState(user.avatar.url);\r\n\r\n   const dispatch = useDispatch();\r\n\r\n   const handleImageChange = (e) => {\r\n      const file = e.target.files[0];\r\n\r\n      const Reader = new FileReader();\r\n      Reader.readAsDataURL(file);\r\n\r\n      Reader.onload = () => {\r\n         if (Reader.readyState === 2) {\r\n            setAvatarPrev(Reader.result);\r\n            setAvatar(Reader.result);\r\n         }\r\n      };\r\n   };\r\n\r\n   const submitHandler = async (e) => {\r\n      e.preventDefault();\r\n      await dispatch(updateProfile(name, email, avatar));\r\n      dispatch(loadUser());\r\n   };\r\n\r\n   useEffect(() => {\r\n      if (error) {\r\n         toast.error(error, {\r\n            position: \"top-center\",\r\n            autoClose: 1000,\r\n            theme: \"light\",\r\n         });\r\n         dispatch({ type: \"clearErrors\" });\r\n      }\r\n\r\n      if (updateError) {\r\n         toast.error(updateError, {\r\n            position: \"top-center\",\r\n            autoClose: 1000,\r\n            theme: \"light\",\r\n         });\r\n         dispatch({ type: \"clearErrors\" });\r\n      }\r\n\r\n      if (message || updateProfileMessage) {\r\n         toast.success(message || updateProfileMessage, {\r\n            position: \"top-center\",\r\n            autoClose: 1000,\r\n            theme: \"light\",\r\n         });\r\n         dispatch({ type: \"clearMessage\" });\r\n      }\r\n   }, [dispatch, error, updateError, message, updateProfileMessage]);\r\n\r\n   return (\r\n      <>\r\n         {\r\n            updateLoading ? <Loader message={\"Updating...\"} /> :\r\n               <div className=' h-[100vh] flex items-center justify-center '>\r\n                  <div className='md:h-[80%] w-[100%] m-auto  py-5 rounded-md md:w-[50vw] md:mx-auto md:border border-gray-400'>\r\n                     <h1 className='headingFont text-center text-3xl py-5 '>Fight Club </h1>\r\n                     <div className='flex items-center justify-center'>\r\n                        <img className='h-[100px] w-[100px] rounded-full' src={avatarPrev} alt=\"post\" />\r\n                     </div>\r\n                     <form onSubmit={submitHandler} className='flex flex-col justify-center items-center mt-10'>\r\n                        <input value={name} onChange={(e) => { setName(e.target.value) }} type=\"text\" placeholder='Name' className='w-[90%] py-2 border border-black outline-none my-2 px-2 ' />\r\n                        <input value={email} onChange={(e) => { setEmail(e.target.value) }} type=\"email\" placeholder='Email' className='w-[90%] py-2 border border-black outline-none my-2 px-2 ' />\r\n                        <input type=\"file\" accept='image/*' onChange={handleImageChange} />\r\n                        {\r\n                           updateProfileLoading ?\r\n                              <button  disabled className=' flex justify-center items-center bg-blue-500 w-[90%] py-3 my-5  text-white font-semibold'>\r\n                                 <div className=\"animate-pulse flex items-center justify-center \" >\r\n                                    <AiOutlineLoading className=\"animate-spin h-5 w-5 mr-3 \" />\r\n                                    updating...\r\n                                 </div>\r\n                              </button> :\r\n                              <button type='submit' className=' flex justify-center items-center bg-blue-500 w-[90%] py-3 my-5  text-white font-semibold'>Update</button>\r\n                        }\r\n\r\n                     </form>\r\n\r\n                  </div>\r\n               </div>\r\n         }\r\n      </>\r\n   )\r\n}\r\n"],"names":["UpdateProfile","_useSelector","useSelector","state","user","error","_useSelector2","like","updateLoading","loading","updateError","message","_useSelector3","updateProfile","updateProfileLoading","updateProfileMessage","_useState","useState","name","_useState2","_slicedToArray","setName","_useState3","email","_useState4","setEmail","_useState5","_useState6","avatar","setAvatar","_useState7","url","_useState8","avatarPrev","setAvatarPrev","dispatch","useDispatch","submitHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_context","prev","next","preventDefault","loadUser","stop","_x","apply","arguments","useEffect","toast","position","autoClose","theme","type","_jsx","_Fragment","children","Loader","className","_jsxs","src","alt","onSubmit","value","onChange","target","placeholder","accept","file","files","Reader","FileReader","readAsDataURL","onload","readyState","result","disabled","AiOutlineLoading"],"sourceRoot":""}