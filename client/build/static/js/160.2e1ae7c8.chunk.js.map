{"version":3,"file":"static/js/160.2e1ae7c8.chunk.js","mappings":"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","sources":["components/Home.js","components/User.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toast } from 'react-toastify';\r\nimport Loader from './Loader.js';\r\nimport { getAllUsers, getFollowingPosts } from '../Actions/User.js';\r\nimport Post from \"./Post.js\"\r\nimport User from './User.js';\r\n\r\nexport default function Home() {\r\n\r\n  const dispatch = useDispatch()\r\n  const { posts, error } = useSelector((state) => state.postOfFollowing);\r\n  const { error: likeError } = useSelector((state) => state.like);\r\n  const { users, loading: allUsersLoading } = useSelector((state) => state.allUsers);\r\n\r\n  useEffect(() => {\r\n    dispatch(getFollowingPosts());\r\n    dispatch(getAllUsers());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      toast.error(error, {\r\n        position: \"top-center\",\r\n        autoClose: 2000,\r\n        theme: \"colored\",\r\n      });\r\n      dispatch({ type: \"clearErrors\" });\r\n    }\r\n\r\n    if (likeError) {\r\n      toast.error(likeError, {\r\n        position: \"top-center\",\r\n        autoClose: 2000,\r\n        theme: \"colored\",\r\n      });\r\n      dispatch({ type: \"clearErrors\" });\r\n    }\r\n  }, [error, likeError, dispatch]);\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className='mb-14 md:mb-0 '>\r\n        <div className='md:flex md:flex-row-reverse'>\r\n          <div className='md:w-[30%] lg:w-[40%] md:mb-20'>\r\n            {\r\n              allUsersLoading ? <Loader message=\"Fetching all users\" /> :\r\n                <div className='md:h-[100vh] md:sticky md:top-5 '>\r\n                  <h1 className='p-2 font-medium md:text-center'> Suggestions for you</h1>\r\n                  <div className=\" h-[100%]  w-[100%]  flex md:flex-col  space-x-3 md:space-x-0 my-2 p-2  overflow-x-scroll md:overflow-x-hidden md:overflow-y-scroll \">\r\n                    {users && users.length > 0 ? (\r\n                      users.map((user) => (\r\n                        <User data={user} key={user._id} />\r\n                      ))\r\n                    ) : (\r\n                      <p>No Users Yet</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n            }\r\n          </div>\r\n          <div className='md:w-[70%] lg:w-[60%] md:flex md:flex-col md:p-10'>\r\n            {posts && posts.length > 0 ? (\r\n              posts.map((post) => (\r\n                <Post key={post._id} data={post} isAccount={false} />\r\n              ))\r\n            ) : (\r\n              <p className='h-[100vh] flex items-center justify-center'>Follow someone to see their posts</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { followAndUnfollowUser, getAllUsers, getFollowingPosts, getUserProfile, loadUser } from '../Actions/User';\r\nimport { MdOutlineVerified } from \"react-icons/md\"\r\nimport { AiOutlineLoading } from \"react-icons/ai\"\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function User({ data }) {\r\n\r\n   const dispatch = useDispatch();\r\n\r\n   const [following, setFollowing] = useState(false);\r\n\r\n   const { user: me } = useSelector((state) => state.user);\r\n   const { loading: followUserLoading, message: followUserMessage, error: followUserError } = useSelector((state) => state.followUser);\r\n\r\n   useEffect(() => {\r\n      data && data.followers.map((item) => {\r\n         if (item === me._id) {\r\n            setFollowing(!following);\r\n         }\r\n      });\r\n   }, [me._id, data, dispatch]);\r\n\r\n\r\n   const followHandler = async () => {\r\n      console.log(\"clicked\");\r\n      await dispatch(followAndUnfollowUser(data._id));\r\n      setFollowing(!following);\r\n      await dispatch(getFollowingPosts());\r\n      await dispatch(loadUser())\r\n      \r\n   };\r\n\r\n   return (\r\n      <>\r\n         {\r\n            data && data._id === me._id ? null : (\r\n               <>\r\n                  <div className=\"flex flex-col  py-5 items-center  border border-gray-300 md:py-2 md:w-[25vw] bg-white\">\r\n                     <Link to={`/user/${data._id}`}  >\r\n                        <div className='flex flex-col  items-center my-3 space-y-3 w-[40vw] text-sm md:text-base'>\r\n                           <img className='h-[10vh] w-[10vh] rounded-full bg-center' src={data.avatar.url} alt=\"\" />\r\n                           <h2 className='flex items-center font-medium hover:underline ease duration-200'>\r\n                              {data.name.slice(0, 10)}{`${data.name.length > 10 ? \"...\" : \"\"}`}\r\n                              {data.role === \"verify\" ? <MdOutlineVerified className='text-blue-600 mx-1 ' /> : null}\r\n                           </h2>\r\n                        </div>\r\n                     </Link>\r\n\r\n                     <div className=' text-blue-500'>\r\n                        <button\r\n                           disabled={followUserLoading}\r\n                           onClick={followHandler}\r\n                           className={\"\" + (following ? 'text-black font-medium px-5 py-1 bg-gray-200 rounded-md' : \"text-white font-medium px-5 py-1 bg-blue-500 rounded-md\")}>\r\n                           {following ? \"Following\" : \"Follow\"}\r\n                        </button>\r\n                     </div>\r\n                  </div>\r\n               </>\r\n            )}\r\n      </>\r\n   )\r\n}\r\n"],"names":["Home","dispatch","useDispatch","_useSelector","useSelector","state","postOfFollowing","posts","error","likeError","like","_useSelector3","allUsers","users","allUsersLoading","loading","useEffect","getFollowingPosts","getAllUsers","toast","position","autoClose","theme","type","_jsx","_Fragment","children","className","_jsxs","Loader","message","length","map","user","User","data","_id","post","Post","isAccount","_ref","_useState","useState","_useState2","_slicedToArray","following","setFollowing","me","_useSelector2","followUser","followUserLoading","followers","item","followHandler","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","console","log","followAndUnfollowUser","loadUser","stop","apply","arguments","Link","to","concat","src","avatar","url","alt","name","slice","role","MdOutlineVerified","disabled","onClick"],"sourceRoot":""}